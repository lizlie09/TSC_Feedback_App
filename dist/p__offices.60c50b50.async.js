(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[869],{50794:function(K,b,e){"use strict";e.r(b),e.d(b,{default:function(){return $}});var O=e(3182),W=e(57663),p=e(71577),j=e(2824),N=e(14965),R=e(68588),F=e(94043),c=e.n(F),P=e(63804),T=e(49101),B=e(8212),M=e(37722),n=e(30020),C=e(71194),u=e(50146),k=e(34792),r=e(48086),x=e(952),d=e(5966),a=e(85893),U=function(f){var S=f.state,E=f.setState,m=f.actionRef;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{title:"Add Office",centered:!0,visible:S,onCancel:function(){return E(!1)},footer:!1,children:(0,a.jsxs)(x.ZP,{onFinish:function(){var o=(0,O.Z)(c().mark(function h(Z){var g,v;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,n.KW)(Z);case 3:g=t.sent,g.success?(E(!1),r.default.success("Successfully added"),m==null||(v=m.current)===null||v===void 0||v.reload()):r.default.error(g.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r.default.error("Failed");case 10:case"end":return t.stop()}},h,null,[[0,7]])}));return function(h){return o.apply(this,arguments)}}(),children:[(0,a.jsx)(d.Z,{name:"name",label:"Name of Office",placeholder:"",rules:[{required:!0}]}),(0,a.jsx)(d.Z,{name:"lastname",label:"Last Name",placeholder:"",rules:[{required:!0}]}),(0,a.jsx)(d.Z,{name:"firstname",label:"First Name",placeholder:"",rules:[{required:!0}]}),(0,a.jsx)(d.Z,{name:"middlename",label:"Middle Name",placeholder:"",rules:[{required:!0}]}),(0,a.jsx)(d.Z,{name:"email",label:"Email",placeholder:"",rules:[{required:!0,message:"Field required"}]}),(0,a.jsx)(d.Z.Password,{name:"password",label:"Password",placeholder:"",rules:[{required:!0,message:"Field required"}]})]})})})},I=e(11849),V=function(f){var S=f.state,E=f.setState,m=f.actionRef,o=f.defaultValue;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.Z,{title:"Add Office",centered:!0,visible:S,onCancel:function(){return E(!1)},footer:!1,children:(0,a.jsxs)(x.ZP,{onFinish:function(){var h=(0,O.Z)(c().mark(function Z(g){var v,y;return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,n.si)((0,I.Z)({_id:o._id},g));case 3:v=s.sent,v.success?(E(!1),r.default.success(v.message),m==null||(y=m.current)===null||y===void 0||y.reload()):r.default.error(v.message),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),r.default.error("Failed");case 10:case"end":return s.stop()}},Z,null,[[0,7]])}));return function(Z){return h.apply(this,arguments)}}(),children:[(0,a.jsx)(d.Z,{name:"name",label:"Name of Office",placeholder:"",initialValue:o.name,extra:"Clear the name of department to delete"}),(0,a.jsx)(d.Z,{name:"firstname",label:"First Name",placeholder:"",rules:[{required:!0}],initialValue:o.firstname}),(0,a.jsx)(d.Z,{name:"lastname",label:"Last Name",placeholder:"",rules:[{required:!0}],initialValue:o.lastname}),(0,a.jsx)(d.Z,{name:"middlename",label:"Middle Name",placeholder:"",rules:[{required:!0}],initialValue:o.middlename}),(0,a.jsx)(d.Z,{name:"email",label:"Email",placeholder:"",rules:[{required:!0,message:"Field required"}],initialValue:o.email})]})})})},z=e(30381),G=R.Z.RangePicker,$=function(){var f=(0,P.useState)(!1),S=(0,j.Z)(f,2),E=S[0],m=S[1],o=(0,P.useState)(!1),h=(0,j.Z)(o,2),Z=h[0],g=h[1],v=(0,P.useState)({}),y=(0,j.Z)(v,2),t=y[0],s=y[1],L=(0,P.useRef)();return(0,a.jsxs)("div",{children:[(0,a.jsx)(U,{state:E,setState:m,actionRef:L}),Z&&(0,a.jsx)(V,{state:Z,setState:g,actionRef:L,defaultValue:t}),(0,a.jsx)(M.ZP,{actionRef:L,toolBarRender:function(){return[(0,a.jsx)(p.Z,{icon:(0,a.jsx)(T.Z,{}),type:"primary",onClick:function(){return m(!0)},children:"Add Office"},"button")]},request:(0,O.Z)(c().mark(function D(){var A;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,n.TB)();case 3:return A=i.sent,i.abrupt("return",{data:A.offices});case 7:i.prev=7,i.t0=i.catch(0),console.log(i.t0);case 10:case"end":return i.stop()}},D,null,[[0,7]])})),columns:[{title:"Name of Office",dataIndex:"name"},{title:"Email",dataIndex:"email"},{title:"Name",render:function(A,l){return"".concat(l==null?void 0:l.lastname,", ").concat(l==null?void 0:l.firstname," ").concat(l==null?void 0:l.middlename)}},{title:"Actions",render:function(A,l){return(0,a.jsx)(p.Z,{icon:(0,a.jsx)(B.Z,{}),type:"primary",onClick:function(){s(l),g(!0)},children:"Edit"},"button")}}],rowKey:"key",pagination:{showQuickJumper:!0},search:!1,dateFormatter:"string",headerTitle:"Offices"})]})}},30020:function(K,b,e){"use strict";e.d(b,{TB:function(){return F},KW:function(){return P},si:function(){return B}});var O=e(3182),W=e(94043),p=e.n(W),j=e(21010),N=e(58971),R=e.n(N);function F(n){return c.apply(this,arguments)}function c(){return c=(0,O.Z)(p().mark(function n(C){var u;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=R().get("token"),r.abrupt("return",(0,j.WY)("".concat(void 0,"/get-offices"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},query:C,skipErrorHandler:!0}));case 2:case"end":return r.stop()}},n)})),c.apply(this,arguments)}function P(n){return T.apply(this,arguments)}function T(){return T=(0,O.Z)(p().mark(function n(C){var u;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=R().get("token"),r.abrupt("return",(0,j.WY)("".concat(void 0,"/create-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},data:C,skipErrorHandler:!0}));case 2:case"end":return r.stop()}},n)})),T.apply(this,arguments)}function B(n){return M.apply(this,arguments)}function M(){return M=(0,O.Z)(p().mark(function n(C){var u;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=R().get("token"),r.abrupt("return",(0,j.WY)("".concat(void 0,"/edit-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},data:C,skipErrorHandler:!0}));case 2:case"end":return r.stop()}},n)})),M.apply(this,arguments)}}}]);

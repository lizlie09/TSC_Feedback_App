(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[628],{92067:function(et,q,r){"use strict";r.r(q),r.d(q,{default:function(){return Zt}});var _=r(58024),K=r(39144),T=r(11849),ee=r(49111),de=r(19650),te=r(57663),w=r(71577),re=r(88983),ue=r(47933),ae=r(13062),L=r(71230),ne=r(89032),h=r(15746),x=r(3182),Z=r(2824),ce=r(43358),R=r(34041),zt=r(14965),ke=r(68588),tt=r(94043),p=r.n(tt),C=r(63804),be=r(33241),se=r(37722),Bt=r(71194),De=r(50146),rt=r(30381),W=r.n(rt),U=r(21010),at=r(58971),z=r.n(at);function nt(a){return pe.apply(this,arguments)}function pe(){return pe=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-ratertypes"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),pe.apply(this,arguments)}function st(a){return me.apply(this,arguments)}function me(){return me=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-performance"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),me.apply(this,arguments)}function lt(a){return fe.apply(this,arguments)}function fe(){return fe=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-reported-department"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),fe.apply(this,arguments)}function it(a){return ve.apply(this,arguments)}function ve(){return ve=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-respondents"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),ve.apply(this,arguments)}function ot(a){return he.apply(this,arguments)}function he(){return he=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/reply-report"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},data:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),he.apply(this,arguments)}function dt(a){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),ge.apply(this,arguments)}function ut(a){return ye.apply(this,arguments)}function ye(){return ye=(0,x.Z)(p().mark(function a(g){var u;return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=z().get("token"),s.abrupt("return",(0,U.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-assignedoffice-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},params:g,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},a)})),ye.apply(this,arguments)}var e=r(85893),ct=function(a){var g=a.state,u=a.setState,f=a.onSeeRatings,s=a.user;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(De.Z,{title:"Respondents",centered:!0,visible:g,onOk:function(){return u(!1)},onCancel:function(){return u(!1)},width:1e3,children:(0,e.jsx)(se.ZP,{request:function(){var P=(0,x.Z)(p().mark(function b(l,D,G){var y,A;return p().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,it((0,T.Z)({raterType:((y=G.raterType)===null||y===void 0?void 0:y[0])||null,establishment:s.mode==="assigned-officer"?s==null?void 0:s.name:void 0},l));case 3:return A=S.sent,S.abrupt("return",{data:A.respondents});case 7:S.prev=7,S.t0=S.catch(0),console.log(S.t0);case 10:case"end":return S.stop()}},b,null,[[0,7]])}));return function(b,l,D){return P.apply(this,arguments)}}(),columns:[{title:"Full Name",width:80,dataIndex:"fullname",search:!1},{title:"User Type",dataIndex:"raterType",filters:!0,filterMultiple:!1,search:!1,valueEnum:{Doctor:{text:"Doctor"},Client:{text:"Client"},"Company Employee":{text:"Company Employee"},Visitor:{text:"Visitor"}}},{title:"Ratings",search:!1,render:function(b,l){if(l!=null&&l.rate)return(0,e.jsx)(w.Z,{onClick:function(){return f(l)},children:"See Ratings"})}},{title:"Issues",search:!1,render:function(b,l){var D;return(0,e.jsx)("strong",{children:l==null||(D=l.reports)===null||D===void 0?void 0:D.join(". ")})}},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(b,l){return"".concat(W()(l==null?void 0:l.createdAt).format("MMMM DD, YYYY"))}}],rowKey:"key",pagination:{showQuickJumper:!0,pageSize:5},search:{filterType:"light"},dateFormatter:"string",height:400})})})},Pe=r(7945),je=r(8212),Wt=r(34792),xe=r(48086),pt=r(37476),Me=r(5966),Ze=r(90672),mt=r(64317),ft=function(a){var g,u=a.state,f=a.setState,s=a.actionRef,P=a.selectedReport,b=a.assignedOfficerTableRef,l=a.commentsTableRef,D=z().get("user"),G=P.mode,y=P.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(pt.Y,{title:"Reported Department",centered:!0,visible:u,width:400,modalProps:{onCancel:function(){return f(!1)}},onFinish:function(){var A=(0,x.Z)(p().mark(function I(S){var B,N,J,X,H,V;return p().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,ot((0,T.Z)({_id:y._id},S));case 3:B=M.sent,B.success?(f(!1),xe.default.success(B.message),s==null||(N=s.current)===null||N===void 0||N.reload(),b==null||(J=b.current)===null||J===void 0||(X=J.reload)===null||X===void 0||X.call(J),l==null||(H=l.current)===null||H===void 0||(V=H.reload)===null||V===void 0||V.call(H)):xe.default.error(B==null?void 0:B.message),M.next=10;break;case 7:M.prev=7,M.t0=M.catch(0),xe.default.error("Failed");case 10:case"end":return M.stop()}},I,null,[[0,7]])}));return function(I){return A.apply(this,arguments)}}(),children:[(0,e.jsx)(Me.Z,{name:"establishment",label:"Name of Office",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:y==null?void 0:y.establishment}),(0,e.jsx)(Me.Z,{name:"name",label:"Name of Visitor",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:y==null?void 0:y.fullname}),G==="reports"&&(0,e.jsx)(Ze.Z,{name:"reports",label:"Reports",placeholder:"",disabled:!0,initialValue:y==null||(g=y.reports)===null||g===void 0?void 0:g.join(". ")}),G==="comments"&&(0,e.jsx)(Ze.Z,{name:"rateComment",label:"Customer Concern",placeholder:"",disabled:!0,initialValue:y==null?void 0:y.rateComment}),(0,e.jsx)(Ze.Z,{name:"reply",label:"Response",placeholder:"",disabled:(D==null?void 0:D.mode)==="admin",initialValue:y==null?void 0:y.reply}),D.mode==="admin"&&(0,e.jsx)(mt.Z,{request:(0,x.Z)(p().mark(function A(){return p().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",[{label:"Done",value:!0},{label:"Pending",value:!1}]);case 1:case"end":return S.stop()}},A)})),initialValue:y==null?void 0:y.remarks,name:"remarks",label:"Remarks"})]})})},vt=r(952),$=r(82361),ht=function(a){var g=a.state,u=a.setState,f=a.comment;return console.log(f.rate_one),(0,e.jsx)(De.Z,{title:(0,e.jsxs)(e.Fragment,{children:[f.establishment," | ",(0,e.jsx)("strong",{children:f.fullname})]}),centered:!0,visible:g,onCancel:function(){return u(!1)},footer:!1,width:1e3,children:(0,e.jsx)(vt.ZP,{submitter:{render:function(P,b){return(0,e.jsx)(e.Fragment,{})}},initialValues:{star1:f.rate_one||0,star2:f.rate_two||0,star3:f.rate_three||0,star4:f.rate_four||0,star5:f.rate_five||0,star6:f.rate_six||0,star7:f.rate_seven||0,star8:f.rate_eight||0,star9:f.rate_nine||0,star10:f.rate_ten||0},children:(0,e.jsxs)(L.Z,{gutter:24,children:[(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star1",label:"Courtesy"}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star2",label:"Accuracy",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star3",label:"Professionalism",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star4",label:"Cleanliness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star5",label:"Health Protocol",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star6",label:"Timeliness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star7",label:"Service Efficiency",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star8",label:"Fairness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:4,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star9",label:"Overall Services",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star10",label:"Responsiveness",disabled:!0})]})]})})})},Oe=r(67265),gt=r(30020),Ut=r(402),yt=r(97272),jt=yt.Z.Title,le=function(){return(0,e.jsxs)("div",{style:{alignSelf:"center",marginTop:20,marginBottom:20},children:[(0,e.jsx)("img",{src:"../assets/images/no_data.svg",style:{height:50}}),(0,e.jsx)(jt,{level:5,style:{opacity:.5,marginTop:10},children:"No Data"})]})},xt=r(73727),Ee=ke.Z.RangePicker,Nt=R.Z.Option,Zt=function(){var a=z().get("user"),g=(0,C.useRef)(),u=(0,C.useRef)(),f=(0,C.useRef)(),s=U.m8.location,P=(0,C.useState)({}),b=(0,Z.Z)(P,2),l=b[0],D=b[1],G=(0,C.useState)({}),y=(0,Z.Z)(G,2),A=y[0],I=y[1],S=(0,C.useState)({}),B=(0,Z.Z)(S,2),N=B[0],J=B[1],X=(0,C.useState)([]),H=(0,Z.Z)(X,2),V=H[0],Ye=H[1],M=(0,C.useState)(!1),Fe=(0,Z.Z)(M,2),we=Fe[0],$e=Fe[1],St=(0,C.useState)(!1),Ae=(0,Z.Z)(St,2),Ie=Ae[0],ie=Ae[1],Ct=(0,C.useState)(!1),ze=(0,Z.Z)(Ct,2),Be=ze[0],Se=ze[1],Rt=(0,C.useState)("month"),We=(0,Z.Z)(Rt,2),Ce=We[0],Tt=We[1],kt=(0,C.useState)(""),Ue=(0,Z.Z)(kt,2),bt=Ue[0],Dt=Ue[1],Pt=(0,C.useState)(null),Ne=(0,Z.Z)(Pt,2),Q=Ne[0],Mt=Ne[1],Ot=(0,C.useState)(0),He=(0,Z.Z)(Ot,2),Ve=He[0],Et=He[1],Yt=(0,C.useState)(!1),Ke=(0,Z.Z)(Yt,2),Ft=Ke[0],Le=Ke[1],wt=(0,C.useState)(!1),Ge=(0,Z.Z)(wt,2),$t=Ge[0],Je=Ge[1],Re=function(){var c=(0,x.Z)(p().mark(function n(t){var o,i,m,v;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=t.overallFilter,i=t.startDate,m=t.endDate,Je(!0),d.next=4,st({overallFilter:o?JSON.stringify(o):null,establishment:(a==null?void 0:a.mode)==="assigned-officer"?a==null?void 0:a.name:void 0,startDate:i,endDate:m});case 4:v=d.sent,v.success&&(D(v.rate),Je(!1));case 6:case"end":return d.stop()}},n)}));return function(t){return c.apply(this,arguments)}}(),Qe=function(){var c=(0,x.Z)(p().mark(function n(t){var o,i,m,v,k;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return o=t.overallFilter,Le(!0),j.next=4,nt({overallFilter:o?JSON.stringify(o):null,establishment:(a==null?void 0:a.mode)==="assigned-officer"?a==null?void 0:a.name:void 0});case 4:i=j.sent,i.success&&(v=0,k=i==null||(m=i.raterTypes)===null||m===void 0?void 0:m.map(function(oe){return v+=oe.total,{type:"".concat(oe.total," - ").concat(oe._id),value:oe.total}}),Et(v),Ye(k),Le(!1));case 6:case"end":return j.stop()}},n)}));return function(t){return c.apply(this,arguments)}}(),At=function(){var c=(0,x.Z)(p().mark(function n(){var t,o;return p().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,gt.TB)();case 2:t=m.sent,t.success?(t==null||(o=t.offices)===null||o===void 0||o.forEach(function(v){N[v.name]={text:v.name}}),J(N)):message.error("Failed to fetch offices");case 4:case"end":return m.stop()}},n)}));return function(){return c.apply(this,arguments)}}();(0,C.useState)(function(){Re({})},[]),(0,C.useState)(function(){Qe({})},[]),(0,C.useState)(function(){At()},[]);var Te={data:V,angleField:"value",colorField:"type",radius:.9,label:{type:"inner",offset:"-30%",content:function(n){var t=n.percent;return"".concat((t*100).toFixed(0),"%")},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},O=function(n,t){var o,i,m=0;return o=parseInt(t)*5,i=parseFloat(n/o).toFixed(2),m=(i*100).toFixed(0),m},Xe=function(n,t){Re({startDate:n?W()(n[0]).format("YYYY-MM-DD"):W()().subtract(14,"days").format("YYYY-MM-DD"),endDate:n?W()(n[1]).format("YYYY-MM-DD"):W()(new Date,"DD MMMM, YYYY").format("YYYY-MM-DD")})},E={backgroundColor:"#F3A931",paddingLeft:10,paddingRight:10,alignItems:"center",paddingTop:10,paddingBottom:10},Y={color:"white",fontSize:25,lineHeight:0},F={color:"white",fontSize:15},qe=function(){return(0,e.jsxs)(L.Z,{gutter:[10,10],children:[(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Courtesy"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateOne,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Accuracy"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateTwo,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Professionalism"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateThree,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Cleanliness"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateFour,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Protocol"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateFive,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Timeliness"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateSix,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Service Efficiency"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateSeven,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Fairness"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateEight,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Timeliness"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateSix,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Overall Services"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateNine,l.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:E,children:[(0,e.jsx)("p",{style:F,children:"Responsiveness"}),(0,e.jsxs)("p",{style:Y,children:[O(l.rateTen,l.Cnt),"%"]})]})})]})};function _e(){return(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(ue.ZP.Group,{options:[{label:"Month",value:"month"},{label:"Quarter",value:"quarter"},{label:"Year",value:"year"}],defaultValue:Ce,onChange:function(n){return Tt(n.target.value)},optionType:"button",buttonStyle:"solid"}),(0,e.jsx)(ke.Z,{picker:Ce,defaultValue:bt,onChange:function(n){Dt(n),It(n,Ce)}}),s.pathname.includes("/admin/print/dashboard")?(0,e.jsx)(w.Z,{type:"danger",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(){return window.print()},children:"Print Now"}):(0,e.jsx)(xt.rU,{to:"/admin/print/dashboard",target:"_blank",children:(0,e.jsx)(w.Z,{icon:(0,e.jsx)(Pe.Z,{}),type:"primary",children:"Preview Print"})})]})}var It=function(n,t){var o,i,m,v,k,d,j={};t==="month"&&(j={type:t,year:n.year(),month:n.format("MM")}),t==="quarter"&&(j={type:t,year:n.year(),startMonth:n.format("MM"),endMonth:n.add(2,"M").format("MM")}),t==="year"&&(j={type:t,year:n.year()}),Qe({overallFilter:j}),Re({overallFilter:j}),Mt(j),g==null||(o=g.current)===null||o===void 0||(i=o.reload)===null||i===void 0||i.call(o),u==null||(m=u.current)===null||m===void 0||(v=m.reload)===null||v===void 0||v.call(m),f==null||(k=f.current)===null||k===void 0||(d=k.reload)===null||d===void 0||d.call(k)};return s.pathname.includes("/admin/print/dashboard")?(Te.label={type:"outer",content:"{name} {percentage}"},(0,e.jsxs)(Oe.ZP,{title:a.mode==="admin"?"Dashboard":a.name,extra:(0,e.jsx)(_e,{}),children:[(0,e.jsx)(K.Z,{title:"".concat(Ve," Respondents"),children:V.length>0?(0,e.jsx)(be.Z,(0,T.Z)({},Te)):(0,e.jsx)(le,{})}),(0,e.jsx)("div",{style:{height:20}}),(0,e.jsx)(K.Z,{title:"Performance",extra:(0,e.jsx)(Ee,{onChange:Xe}),children:l!=null&&l.Cnt?(0,e.jsx)(qe,{}):(0,e.jsx)(le,{})})]})):(0,e.jsxs)(Oe.ZP,{title:a.mode==="admin"?"Dashboard":a.name,extra:(0,e.jsx)(_e,{}),children:[we&&(0,e.jsx)(ct,{state:we,setState:$e,onSeeRatings:function(n){Se(!0),I(n)},user:a}),Ie&&(0,e.jsx)(ft,{state:Ie,setState:ie,selectedReport:A,actionRef:g,commentsTableRef:u,assignedOfficerTableRef:f}),Be&&(0,e.jsx)(ht,{state:Be,setState:Se,comment:A}),(0,e.jsxs)(L.Z,{gutter:10,children:[(0,e.jsx)(h.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,e.jsx)(K.Z,{loading:Ft,title:"Respondents (Total ".concat(Ve,")"),extra:(0,e.jsx)(w.Z,{type:"primary",onClick:function(){return $e(!0)},children:"See respondents"}),children:V.length>0?(0,e.jsx)(be.Z,(0,T.Z)({},Te)):(0,e.jsx)(le,{})})}),(0,e.jsx)(h.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,e.jsx)(K.Z,{loading:$t,style:{height:"100%"},title:"Performance",extra:(0,e.jsx)(Ee,{onChange:Xe}),children:l!=null&&l.Cnt?(0,e.jsx)(qe,{}):(0,e.jsx)(le,{})})})]}),(0,e.jsx)("div",{style:{height:10}}),a.mode==="admin"&&(0,e.jsxs)(L.Z,{gutter:10,children:[(0,e.jsxs)(h.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:[(0,e.jsx)(se.ZP,{actionRef:g,request:function(){var c=(0,x.Z)(p().mark(function n(t,o,i){var m,v,k;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log(t),j.prev=1,j.next=4,lt((0,T.Z)({overallFilter:Q?JSON.stringify(Q):null,remarks:i!=null&&i.remarks?(i==null||(m=i.remarks)===null||m===void 0?void 0:m[0])==="1":null,establishment:((v=i.establishment)===null||v===void 0?void 0:v[0])||null},t));case 4:return k=j.sent,j.abrupt("return",{data:k.reports,total:k.total});case 8:j.prev=8,j.t0=j.catch(1),console.log(j.t0);case 11:case"end":return j.stop()}},n,null,[[1,8]])}));return function(n,t,o){return c.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Name",width:90,dataIndex:"establishment",filters:!0,filterMultiple:!1,valueEnum:N,search:!1},{title:"Issues",render:function(n,t){var o;return(0,e.jsx)("strong",{children:t==null||(o=t.reports)===null||o===void 0?void 0:o.join(". ")})},search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(n,t){return"".concat(t.remarks?"Done":"Pending")},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",valueType:"date",render:function(n,t){return"".concat(W()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,fixed:"right",width:120,render:function(n,t){return(0,e.jsx)(w.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){I({mode:"reports",data:t}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Reported Offices"}),(0,e.jsx)("div",{style:{height:10}})]}),(0,e.jsxs)(h.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:[(0,e.jsx)(se.ZP,{actionRef:u,request:function(){var c=(0,x.Z)(p().mark(function n(t,o,i){var m,v;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,dt((0,T.Z)({overallFilter:Q?JSON.stringify(Q):null,remarks:i!=null&&i.remarks?(i==null||(m=i.remarks)===null||m===void 0?void 0:m[0])==="1":null},t));case 3:return v=d.sent,d.abrupt("return",{data:v.comments,total:v==null?void 0:v.total});case 7:d.prev=7,d.t0=d.catch(0),console.log(d.t0);case 10:case"end":return d.stop()}},n,null,[[0,7]])}));return function(n,t,o){return c.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Comments and Suggestions",width:100,dataIndex:"rateComment",search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(n,t){return t!=null&&t.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",render:function(n,t){return"".concat(W()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))},valueType:"date"},{title:"Actions",fixed:"right",search:!1,width:40,render:function(n,t){return(0,e.jsx)(w.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){I({mode:"comments",data:t}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Comments and Suggestions"})," "]})]}),a.mode==="assigned-officer"&&(0,e.jsx)(se.ZP,{actionRef:f,request:function(){var c=(0,x.Z)(p().mark(function n(t,o,i){var m,v;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,ut((0,T.Z)({overallFilter:Q?JSON.stringify(Q):null,officeName:a.name,remarks:i!=null&&i.remarks?(i==null||(m=i.remarks)===null||m===void 0?void 0:m[0])==="1":null},t));case 3:return v=d.sent,d.abrupt("return",{data:v.comments,total:v==null?void 0:v.total});case 7:d.prev=7,d.t0=d.catch(0),console.log(d.t0);case 10:case"end":return d.stop()}},n,null,[[0,7]])}));return function(n,t,o){return c.apply(this,arguments)}}(),columns:[{title:"Name",dataIndex:"fullname",search:!1},{title:"Ratings",dataIndex:"ratings",search:!1,render:function(n,t){return(0,e.jsx)(w.Z,{onClick:function(){Se(!0),I(t)},children:"See Ratings"})}},{title:"Comments and Suggestions",dataIndex:"rateComment",search:!1},{title:"Reports",render:function(n,t){var o;return(0,e.jsx)("strong",{children:t==null||(o=t.reports)===null||o===void 0?void 0:o.join(". ")})},search:!1},{title:"Remarks",dataIndex:"remarks",render:function(n,t){return t!=null&&t.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(n,t){return"".concat(W()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,render:function(n,t){return(0,e.jsx)(w.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){I({mode:"assigned-officer",data:t}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Rating/Reports/Comments and Suggestions"})]})}},30020:function(et,q,r){"use strict";r.d(q,{TB:function(){return w},KW:function(){return ue},si:function(){return L}});var _=r(3182),K=r(94043),T=r.n(K),ee=r(21010),de=r(58971),te=r.n(de);function w(h){return re.apply(this,arguments)}function re(){return re=(0,_.Z)(T().mark(function h(x){var Z;return T().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return Z=te().get("token"),R.abrupt("return",(0,ee.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-offices"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},query:x,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},h)})),re.apply(this,arguments)}function ue(h){return ae.apply(this,arguments)}function ae(){return ae=(0,_.Z)(T().mark(function h(x){var Z;return T().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return Z=te().get("token"),R.abrupt("return",(0,ee.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/create-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},data:x,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},h)})),ae.apply(this,arguments)}function L(h){return ne.apply(this,arguments)}function ne(){return ne=(0,_.Z)(T().mark(function h(x){var Z;return T().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return Z=te().get("token"),R.abrupt("return",(0,ee.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/edit-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},data:x,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},h)})),ne.apply(this,arguments)}}}]);

(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[628],{92067:function(Ve,Q,r){"use strict";r.r(Q),r.d(Q,{default:function(){return mt}});var X=r(58024),V=r(39144),H=r(49111),L=r(19650),ye=r(88983),J=r(47933),je=r(13062),U=r(71230),xe=r(89032),h=r(15746),Ze=r(57663),P=r(71577),k=r(11849),g=r(3182),j=r(2824),re=r(43358),R=r(34041),Ot=r(14965),Se=r(14072),Ke=r(94043),u=r.n(Ke),T=r(63804),Ce=r(1597),q=r(35255),Yt=r(71194),ke=r(50146),Le=r(30381),N=r.n(Le),G=r(21010),Je=r(58971),B=r.n(Je);function Qe(n){return ne.apply(this,arguments)}function ne(){return ne=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-ratertypes"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),ne.apply(this,arguments)}function Xe(n){return ae.apply(this,arguments)}function ae(){return ae=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-performance"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),ae.apply(this,arguments)}function qe(n){return se.apply(this,arguments)}function se(){return se=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-reported-department"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),se.apply(this,arguments)}function _e(n){return le.apply(this,arguments)}function le(){return le=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-respondents"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),le.apply(this,arguments)}function et(n){return ie.apply(this,arguments)}function ie(){return ie=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/reply-report"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},data:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),ie.apply(this,arguments)}function tt(n){return oe.apply(this,arguments)}function oe(){return oe=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),oe.apply(this,arguments)}function rt(n){return ue.apply(this,arguments)}function ue(){return ue=(0,g.Z)(u().mark(function n(v){var p;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return p=B().get("token"),s.abrupt("return",(0,G.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-assignedoffice-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)},params:v,skipErrorHandler:!0}));case 2:case"end":return s.stop()}},n)})),ue.apply(this,arguments)}var e=r(85893),nt=function(n){var v=n.state,p=n.setState,m=n.onSeeRatings,s=n.user;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ke.Z,{title:"Respondents",centered:!0,visible:v,onOk:function(){return p(!1)},onCancel:function(){return p(!1)},width:1e3,children:(0,e.jsx)(q.ZP,{request:function(){var M=(0,g.Z)(u().mark(function i(x,f,W){var I,D;return u().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,_e((0,k.Z)({raterType:((I=W.raterType)===null||I===void 0?void 0:I[0])||null,establishment:s.mode==="assigned-officer"?s==null?void 0:s.name:void 0},x));case 3:return D=S.sent,S.abrupt("return",{data:D.respondents});case 7:S.prev=7,S.t0=S.catch(0),console.log(S.t0);case 10:case"end":return S.stop()}},i,null,[[0,7]])}));return function(i,x,f){return M.apply(this,arguments)}}(),columns:[{title:"Full Name",width:80,dataIndex:"fullname",search:!1},{title:"User Type",dataIndex:"raterType",filters:!0,filterMultiple:!1,search:!1,valueEnum:{Doctor:{text:"Doctor"},Client:{text:"Client"},"Company Employee":{text:"Company Employee"},Visitor:{text:"Visitor"}}},{title:"Ratings",search:!1,render:function(i,x){if(x!=null&&x.rate)return(0,e.jsx)(P.Z,{onClick:function(){return m(x)},children:"See Ratings"})}},{title:"Issues",search:!1,render:function(i,x){var f;return(0,e.jsx)("strong",{children:x==null||(f=x.reports)===null||f===void 0?void 0:f.join(". ")})}},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(i,x){return"".concat(N()(x==null?void 0:x.createdAt).format("MMMM DD, YYYY"))}}],rowKey:"key",pagination:{showQuickJumper:!0},search:{filterType:"light"},dateFormatter:"string",height:400})})})},de=r(8212),Re=r(7945),At=r(34792),ce=r(48086),at=r(37476),Te=r(5966),pe=r(90672),st=r(64317),lt=function(n){var v,p=n.state,m=n.setState,s=n.actionRef,M=n.selectedReport,i=B().get("user"),x=M.mode,f=M.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(at.Y,{title:"Reported Department",centered:!0,visible:p,width:400,modalProps:{onCancel:function(){return m(!1)}},onFinish:function(){var W=(0,g.Z)(u().mark(function I(D){var z,S;return u().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,et((0,k.Z)({_id:f._id},D));case 3:z=E.sent,z.success?(m(!1),ce.default.success(z.message),s==null||(S=s.current)===null||S===void 0||S.reload()):ce.default.error(z==null?void 0:z.message),E.next=10;break;case 7:E.prev=7,E.t0=E.catch(0),ce.default.error("Failed");case 10:case"end":return E.stop()}},I,null,[[0,7]])}));return function(I){return W.apply(this,arguments)}}(),children:[(0,e.jsx)(Te.Z,{name:"establishment",label:"Name of Office",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:f==null?void 0:f.establishment}),(0,e.jsx)(Te.Z,{name:"name",label:"Name of Visitor",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:f==null?void 0:f.fullname}),x==="reports"&&(0,e.jsx)(pe.Z,{name:"reports",label:"Reports",placeholder:"",disabled:!0,initialValue:f==null||(v=f.reports)===null||v===void 0?void 0:v.join(". ")}),x==="comments"&&(0,e.jsx)(pe.Z,{name:"rateComment",label:"Customer Concern",placeholder:"",disabled:!0,initialValue:f==null?void 0:f.rateComment}),(0,e.jsx)(pe.Z,{name:"reply",label:"Response",placeholder:"",disabled:(i==null?void 0:i.mode)==="admin",initialValue:f==null?void 0:f.reply}),i.mode==="admin"&&(0,e.jsx)(st.Z,{request:(0,g.Z)(u().mark(function W(){return u().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",[{label:"Done",value:!0},{label:"Pending",value:!1}]);case 1:case"end":return D.stop()}},W)})),initialValue:f==null?void 0:f.remarks,name:"remarks",label:"Remarks"})]})})},it=r(952),$=r(82361),ot=function(n){var v=n.state,p=n.setState,m=n.comment;return console.log(m.rate_one),(0,e.jsx)(ke.Z,{title:"".concat(m.establishment," | ").concat(m.fullname),centered:!0,visible:v,onCancel:function(){return p(!1)},footer:!1,width:1e3,children:(0,e.jsx)(it.ZP,{submitter:{render:function(M,i){return(0,e.jsx)(e.Fragment,{})}},initialValues:{star1:m.rate_one||0,star2:m.rate_two||0,star3:m.rate_three||0,star4:m.rate_four||0,star5:m.rate_five||0,star6:m.rate_six||0,star7:m.rate_seven||0,star8:m.rate_eight||0,star9:m.rate_nine||0,star10:m.rate_ten||0},children:(0,e.jsxs)(U.Z,{gutter:24,children:[(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star1",label:"Courtesy"}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star2",label:"Accuracy",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star3",label:"Professionalism",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star4",label:"Cleanliness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star5",label:"Health Protocol",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star6",label:"Timeliness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:5,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star7",label:"Service Efficiency",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star8",label:"Fairness",disabled:!0})]}),(0,e.jsxs)(h.Z,{span:4,children:[(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star9",label:"Overall Services",disabled:!0}),(0,e.jsx)($.Z,{rules:[{required:!0}],name:"star10",label:"Responsiveness",disabled:!0})]})]})})})},be=r(67265),ut=r(30020),Ft=r(402),dt=r(97272),ct=dt.Z.Title,_=function(){return(0,e.jsxs)("div",{style:{alignSelf:"center",marginTop:20,marginBottom:20},children:[(0,e.jsx)("img",{src:"../assets/images/no_data.svg",style:{height:50}}),(0,e.jsx)(ct,{level:5,style:{opacity:.5,marginTop:10},children:"No Data"})]})},pt=r(73727),De=Se.Z.RangePicker,wt=R.Z.Option,mt=function(){var n=B().get("user"),v=(0,T.useRef)(),p=(0,T.useRef)(),m=G.m8.location,s=(0,T.useState)({}),M=(0,j.Z)(s,2),i=M[0],x=M[1],f=(0,T.useState)({}),W=(0,j.Z)(f,2),I=W[0],D=W[1],z=(0,T.useState)({}),S=(0,j.Z)(z,2),ee=S[0],E=S[1],ft=(0,T.useState)([]),Me=(0,j.Z)(ft,2),me=Me[0],ht=Me[1],vt=(0,T.useState)(!1),Pe=(0,j.Z)(vt,2),Ee=Pe[0],Oe=Pe[1],gt=(0,T.useState)(!1),Ye=(0,j.Z)(gt,2),Ae=Ye[0],te=Ye[1],yt=(0,T.useState)(!1),Fe=(0,j.Z)(yt,2),we=Fe[0],fe=Fe[1],jt=(0,T.useState)("month"),$e=(0,j.Z)(jt,2),he=$e[0],xt=$e[1],Zt=(0,T.useState)(""),Ie=(0,j.Z)(Zt,2),St=Ie[0],Ct=Ie[1],kt=(0,T.useState)(null),Be=(0,j.Z)(kt,2),K=Be[0],Rt=Be[1],Tt=(0,T.useState)(0),We=(0,j.Z)(Tt,2),ze=We[0],bt=We[1],ve=function(){var C=(0,g.Z)(u().mark(function a(l){var t,d,o,y;return u().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return t=l.overallFilter,d=l.startDate,o=l.endDate,O.next=3,Xe({overallFilter:t?JSON.stringify(t):null,establishment:(n==null?void 0:n.mode)==="assigned-officer"?n==null?void 0:n.name:void 0,startDate:d,endDate:o});case 3:y=O.sent,y.success&&x(y.rate);case 5:case"end":return O.stop()}},a)}));return function(l){return C.apply(this,arguments)}}(),Ue=function(){var C=(0,g.Z)(u().mark(function a(l){var t,d,o,y,Z;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=l.overallFilter,c.next=3,Qe({overallFilter:t?JSON.stringify(t):null,establishment:(n==null?void 0:n.mode)==="assigned-officer"?n==null?void 0:n.name:void 0});case 3:d=c.sent,d.success&&(y=0,Z=d==null||(o=d.raterTypes)===null||o===void 0?void 0:o.map(function(b){return y+=b.total,{type:"".concat(b.total," - ").concat(b._id),value:b.total}}),bt(y),ht(Z));case 5:case"end":return c.stop()}},a)}));return function(l){return C.apply(this,arguments)}}(),Dt=function(){var C=(0,g.Z)(u().mark(function a(){var l,t;return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,ut.TB)();case 2:l=o.sent,l.success?(l==null||(t=l.offices)===null||t===void 0||t.forEach(function(y){ee[y.name]={text:y.name}}),E(ee)):message.error("Failed to fetch offices");case 4:case"end":return o.stop()}},a)}));return function(){return C.apply(this,arguments)}}();(0,T.useState)(function(){ve({})},[]),(0,T.useState)(function(){Ue({})},[]),(0,T.useState)(function(){Dt()},[]);var ge={data:me,angleField:"value",colorField:"type",radius:.9,label:{type:"inner",offset:"-30%",content:function(a){var l=a.percent;return"".concat((l*100).toFixed(0),"%")},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},Y=function(a,l){var t,d,o=0;return t=parseInt(l)*5,d=parseFloat(a/t).toFixed(2),o=(d*100).toFixed(0),o},Ne=function(a,l){ve({startDate:a?N()(a[0]).format("YYYY-MM-DD"):N()().subtract(14,"days").format("YYYY-MM-DD"),endDate:a?N()(a[1]).format("YYYY-MM-DD"):N()(new Date,"DD MMMM, YYYY").format("YYYY-MM-DD")})},Mt=function(){return(0,e.jsxs)(U.Z,{gutter:10,children:[(0,e.jsx)(h.Z,{span:12,children:(0,e.jsx)(q.ZP,{actionRef:v,request:function(){var a=(0,g.Z)(u().mark(function l(t,d,o){var y,Z,O;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log(t),b.prev=1,b.next=4,qe((0,k.Z)({overallFilter:K?JSON.stringify(K):null,remarks:o!=null&&o.remarks?(o==null||(y=o.remarks)===null||y===void 0?void 0:y[0])==="1":null,establishment:((Z=o.establishment)===null||Z===void 0?void 0:Z[0])||null},t));case 4:return O=b.sent,b.abrupt("return",{data:O.reports,total:O.total});case 8:b.prev=8,b.t0=b.catch(1),console.log(b.t0);case 11:case"end":return b.stop()}},l,null,[[1,8]])}));return function(l,t,d){return a.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Name",width:80,dataIndex:"establishment",filters:!0,filterMultiple:!1,valueEnum:ee,search:!1},{title:"Issues",render:function(l,t){var d;return(0,e.jsx)("strong",{children:t==null||(d=t.reports)===null||d===void 0?void 0:d.join(". ")})},search:!1},{title:"Remarks",dataIndex:"remarks",render:function(l,t){return"".concat(t.remarks?"Done":"Pending")},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(l,t){return"".concat(N()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,fixed:"right",width:120,render:function(l,t){return(0,e.jsx)(P.Z,{icon:(0,e.jsx)(de.Z,{}),type:"primary",onClick:function(){D({mode:"reports",data:t}),te(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:10},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Reported Offices"})}),(0,e.jsxs)(h.Z,{span:12,children:[(0,e.jsx)(q.ZP,{actionRef:p,request:function(){var a=(0,g.Z)(u().mark(function l(t,d,o){var y,Z;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,tt((0,k.Z)({overallFilter:K?JSON.stringify(K):null,remarks:o!=null&&o.remarks?(o==null||(y=o.remarks)===null||y===void 0?void 0:y[0])==="1":null},t));case 3:return Z=c.sent,c.abrupt("return",{data:Z.comments,total:Z==null?void 0:Z.total});case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}},l,null,[[0,7]])}));return function(l,t,d){return a.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Comments and Suggestions",width:400,dataIndex:"rateComment",search:!1},{title:"Remarks",dataIndex:"remarks",render:function(l,t){return t!=null&&t.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",render:function(l,t){return"".concat(N()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))},valueType:"date"},{title:"Actions",fixed:"right",search:!1,width:120,render:function(l,t){return(0,e.jsx)(P.Z,{icon:(0,e.jsx)(de.Z,{}),type:"primary",onClick:function(){D({mode:"comments",data:t}),te(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:10},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Comments and Suggestions"})," "]})]})},Pt=function(){return(0,e.jsx)(q.ZP,{request:function(){var a=(0,g.Z)(u().mark(function l(t,d,o){var y,Z;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,rt((0,k.Z)({overallFilter:K?JSON.stringify(K):null,officeName:n.name,remarks:o!=null&&o.remarks?(o==null||(y=o.remarks)===null||y===void 0?void 0:y[0])==="1":null},t));case 3:return Z=c.sent,c.abrupt("return",{data:Z.comments,total:Z==null?void 0:Z.total});case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}},l,null,[[0,7]])}));return function(l,t,d){return a.apply(this,arguments)}}(),columns:[{title:"Name",dataIndex:"fullname",search:!1},{title:"Ratings",dataIndex:"ratings",search:!1,render:function(l,t){return(0,e.jsx)(P.Z,{onClick:function(){fe(!0),D(t)},children:"See Ratings"})}},{title:"Comments and Suggestions",dataIndex:"rateComment",search:!1},{title:"Reports",render:function(l,t){var d;return(0,e.jsx)("strong",{children:t==null||(d=t.reports)===null||d===void 0?void 0:d.join(". ")})},search:!1},{title:"Remarks",dataIndex:"remarks",render:function(l,t){return t!=null&&t.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(l,t){return"".concat(N()(t==null?void 0:t.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,render:function(l,t){return(0,e.jsx)(P.Z,{icon:(0,e.jsx)(de.Z,{}),type:"primary",onClick:function(){D({mode:"assigned-officer",data:t}),te(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:10},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Rating/Reports/Comments and Suggestions"})},A={backgroundColor:"#F3A931",paddingLeft:10,paddingRight:10,alignItems:"center",paddingTop:10,paddingBottom:10},F={color:"white",fontSize:25,lineHeight:0},w={color:"white",fontSize:15},Ge=function(){return(0,e.jsxs)(U.Z,{gutter:[10,10],children:[(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Courtesy"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateOne,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Accuracy"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateTwo,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Professionalism"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateThree,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Cleanliness"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateFour,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Protocol"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateFive,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Timeliness"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateSix,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Service Efficiency"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateSeven,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Fairness"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateEight,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Timeliness"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateSix,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Overall Services"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateNine,i.Cnt),"%"]})]})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsxs)("div",{style:A,children:[(0,e.jsx)("p",{style:w,children:"Responsiveness"}),(0,e.jsxs)("p",{style:F,children:[Y(i.rateTen,i.Cnt),"%"]})]})})]})};function He(){return(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(J.ZP.Group,{options:[{label:"Month",value:"month"},{label:"Quarter",value:"quarter"},{label:"Year",value:"year"}],defaultValue:he,onChange:function(a){return xt(a.target.value)},optionType:"button",buttonStyle:"solid"}),(0,e.jsx)(Se.Z,{picker:he,defaultValue:St,onChange:function(a){Ct(a),Et(a,he)}}),m.pathname.includes("/admin/print/dashboard")?(0,e.jsx)(P.Z,{type:"danger",icon:(0,e.jsx)(Re.Z,{}),onClick:function(){return window.print()},children:"Print Now"}):(0,e.jsx)(pt.rU,{to:"/admin/print/dashboard",target:"_blank",children:(0,e.jsx)(P.Z,{icon:(0,e.jsx)(Re.Z,{}),type:"primary",children:"Preview Print"})})]})}var Et=function(a,l){var t={};l==="month"&&(t={type:l,year:a.year(),month:a.format("MM")}),l==="quarter"&&(t={type:l,year:a.year(),startMonth:a.format("MM"),endMonth:a.add(2,"M").format("MM")}),l==="year"&&(t={type:l,year:a.year()}),Ue({overallFilter:t}),ve({overallFilter:t}),Rt(t)};return m.pathname.includes("/admin/print/dashboard")?(ge.label={type:"outer",content:"{name} {percentage}"},(0,e.jsxs)(be.ZP,{title:n.mode==="admin"?"Dashboard":n.name,extra:(0,e.jsx)(He,{}),children:[(0,e.jsx)(V.Z,{title:"".concat(ze," Respondents"),children:me.length>0?(0,e.jsx)(Ce.Z,(0,k.Z)({},ge)):(0,e.jsx)(_,{})}),(0,e.jsx)("div",{style:{height:20}}),(0,e.jsx)(V.Z,{title:"Performance",extra:(0,e.jsx)(De,{onChange:Ne}),children:i!=null&&i.Cnt?(0,e.jsx)(Ge,{}):(0,e.jsx)(_,{})})]})):(0,e.jsxs)(be.ZP,{title:n.mode==="admin"?"Dashboard":n.name,extra:(0,e.jsx)(He,{}),children:[Ee&&(0,e.jsx)(nt,{state:Ee,setState:Oe,onSeeRatings:function(a){fe(!0),D(a)},user:n}),Ae&&(0,e.jsx)(lt,{state:Ae,setState:te,selectedReport:I,actionRef:v}),we&&(0,e.jsx)(ot,{state:we,setState:fe,comment:I}),(0,e.jsxs)(U.Z,{gutter:10,children:[(0,e.jsx)(h.Z,{span:12,children:(0,e.jsx)(V.Z,{title:"Respondents (Total ".concat(ze,")"),extra:(0,e.jsx)(P.Z,{type:"primary",onClick:function(){return Oe(!0)},children:"See respondents"}),children:me.length>0?(0,e.jsx)(Ce.Z,(0,k.Z)({},ge)):(0,e.jsx)(_,{})})}),(0,e.jsx)(h.Z,{span:12,children:(0,e.jsx)(V.Z,{style:{height:"100%"},title:"Performance",extra:(0,e.jsx)(De,{onChange:Ne}),children:i!=null&&i.Cnt?(0,e.jsx)(Ge,{}):(0,e.jsx)(_,{})})})]}),(0,e.jsx)("div",{style:{height:10}}),n.mode==="admin"&&(0,e.jsx)(Mt,{}),n.mode==="assigned-officer"&&(0,e.jsx)(Pt,{})]})}},30020:function(Ve,Q,r){"use strict";r.d(Q,{TB:function(){return je},KW:function(){return xe},si:function(){return Ze}});var X=r(3182),V=r(94043),H=r.n(V),L=r(21010),ye=r(58971),J=r.n(ye);function je(k){return U.apply(this,arguments)}function U(){return U=(0,X.Z)(H().mark(function k(g){var j;return H().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return j=J().get("token"),R.abrupt("return",(0,L.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-offices"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)},query:g,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},k)})),U.apply(this,arguments)}function xe(k){return h.apply(this,arguments)}function h(){return h=(0,X.Z)(H().mark(function k(g){var j;return H().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return j=J().get("token"),R.abrupt("return",(0,L.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/create-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)},data:g,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},k)})),h.apply(this,arguments)}function Ze(k){return P.apply(this,arguments)}function P(){return P=(0,X.Z)(H().mark(function k(g){var j;return H().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return j=J().get("token"),R.abrupt("return",(0,L.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/edit-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)},data:g,skipErrorHandler:!0}));case 2:case"end":return R.stop()}},k)})),P.apply(this,arguments)}}}]);

(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[465],{71101:function(I,Z,e){"use strict";e.r(Z),e.d(Z,{default:function(){return F}});var G=e(62350),D=e(75443),H=e(57663),j=e(71577),J=e(34792),u=e(48086),R=e(11849),h=e(3182),S=e(2824),T=e(94043),o=e.n(T),v=e(63804),C=e(28991),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 901.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-delete",theme:"outlined"},x=U,y=e(27029),O=function(g,m){return v.createElement(y.Z,(0,C.Z)((0,C.Z)({},g),{},{ref:m,icon:x}))};O.displayName="UserDeleteOutlined";var M=v.forwardRef(O),$=e(49101),E=e(55251),A=e(92986),z=e(37476),B=e(5966),t=e(85893),F=function(){var s=(0,v.useRef)(),g=(0,v.useState)(!1),m=(0,S.Z)(g,2),N=m[0],p=m[1],P=function(){return(0,t.jsx)(z.Y,{title:"Add Admin",visible:N,width:300,modalProps:{onCancel:function(){return p(!1)}},onFinish:function(){var a=(0,h.Z)(o().mark(function r(n){var l,f;return o().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,A.kA)((0,R.Z)((0,R.Z)({},n),{},{role:"admin"}));case 2:l=c.sent,l.success?(u.default.success(l.message),p(!1),s==null||(f=s.current)===null||f===void 0||f.reload()):u.default.error(l.message);case 4:case"end":return c.stop()}},r)}));return function(r){return a.apply(this,arguments)}}(),children:(0,t.jsx)(B.Z,{width:"md",name:"email",label:"Email",placeholder:"Enter email"})})},Y=function(){var d=(0,h.Z)(o().mark(function a(r){var n,l;return o().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,A.nY)({email:r,role:"admin"});case 2:n=i.sent,n.success?(u.default.success(n.message),s==null||(l=s.current)===null||l===void 0||l.reload()):u.default.error(n.message);case 4:case"end":return i.stop()}},a)}));return function(r){return d.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[(0,t.jsx)(P,{}),(0,t.jsx)(E.ZP,{actionRef:s,toolBarRender:function(){return[(0,t.jsx)(j.Z,{icon:(0,t.jsx)($.Z,{}),onClick:function(){return p(!0)},type:"primary",children:"Add Admin"},"button")]},request:(0,h.Z)(o().mark(function d(){var a;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,A.v5)();case 3:return a=n.sent,n.abrupt("return",{data:a.admins});case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),u.default.error("An error occurred");case 11:case"end":return n.stop()}},d,null,[[0,7]])})),columns:[{title:"Email",dataIndex:"email"},{title:"Name",render:function(a,r){return"".concat(r==null?void 0:r.lastname,", ").concat(r==null?void 0:r.firstname," ").concat(r==null?void 0:r.middlename)}},{title:"Actions",render:function(a,r){return(0,t.jsx)(D.Z,{placement:"leftTop",title:"Remove admin?",onConfirm:function(){return Y(r.email)},okText:"Yes",cancelText:"No",children:(0,t.jsx)(j.Z,{icon:(0,t.jsx)(M,{}),type:"primary",danger:!0,children:"Remove"},"button")})}}],rowKey:"key",pagination:{showQuickJumper:!0},search:!1,dateFormatter:"string",headerTitle:"List of Administrators"})]})}}}]);

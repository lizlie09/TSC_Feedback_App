(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[628],{92067:function(rr,_,l){"use strict";l.r(_),l.d(_,{default:function(){return xr}});var ee=l(58024),B=l(39144),T=l(11849),re=l(49111),de=l(19650),te=l(57663),A=l(71577),ae=l(88983),ue=l(47933),ne=l(13062),J=l(71230),se=l(89032),g=l(15746),x=l(3182),Z=l(2824),ce=l(43358),C=l(34041),zr=l(14965),Ce=l(68588),tr=l(94043),m=l.n(tr),R=l(63804),be=l(33241),V=l(37722),Nr=l(71194),De=l(50146),ar=l(30381),Y=l.n(ar),K=l(21010),nr=l(58971),W=l.n(nr);function sr(a){return pe.apply(this,arguments)}function pe(){return pe=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-ratertypes"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),pe.apply(this,arguments)}function lr(a){return me.apply(this,arguments)}function me(){return me=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-performance"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),me.apply(this,arguments)}function Me(a){return fe.apply(this,arguments)}function fe(){return fe=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-reported-department"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),fe.apply(this,arguments)}function ir(a){return ve.apply(this,arguments)}function ve(){return ve=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-respondents"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),ve.apply(this,arguments)}function or(a){return he.apply(this,arguments)}function he(){return he=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/reply-report"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},data:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),he.apply(this,arguments)}function Pe(a){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),ge.apply(this,arguments)}function Oe(a){return ye.apply(this,arguments)}function ye(){return ye=(0,x.Z)(m().mark(function a(y){var v;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return v=W().get("token"),o.abrupt("return",(0,K.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-assignedoffice-comments"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},params:y,skipErrorHandler:!0}));case 2:case"end":return o.stop()}},a)})),ye.apply(this,arguments)}var e=l(85893),dr=function(a){var y=a.state,v=a.setState,h=a.onSeeRatings,o=a.user;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(De.Z,{title:"Respondents",centered:!0,visible:y,onOk:function(){return v(!1)},onCancel:function(){return v(!1)},width:1e3,children:(0,e.jsx)(V.ZP,{request:function(){var M=(0,x.Z)(m().mark(function b(d,D,Q){var j,z;return m().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,ir((0,T.Z)({raterType:((j=Q.raterType)===null||j===void 0?void 0:j[0])||null,establishment:o.mode==="assigned-officer"?o==null?void 0:o.name:void 0},d));case 3:return z=k.sent,k.abrupt("return",{data:z.respondents});case 7:k.prev=7,k.t0=k.catch(0),console.log(k.t0);case 10:case"end":return k.stop()}},b,null,[[0,7]])}));return function(b,d,D){return M.apply(this,arguments)}}(),columns:[{title:"Full Name",width:80,dataIndex:"fullname",search:!1},{title:"User Type",dataIndex:"raterType",filters:!0,filterMultiple:!1,search:!1,valueEnum:{Doctor:{text:"Doctor"},Client:{text:"Client"},"Company Employee":{text:"Company Employee"},Visitor:{text:"Visitor"}}},{title:"Ratings",search:!1,render:function(b,d){if(d!=null&&d.rate)return(0,e.jsx)(A.Z,{onClick:function(){return h(d)},children:"See Ratings"})}},{title:"Issues",search:!1,render:function(b,d){var D;return(0,e.jsx)("strong",{children:d==null||(D=d.reports)===null||D===void 0?void 0:D.join(". ")})}},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(b,d){return"".concat(Y()(d==null?void 0:d.createdAt).format("MMMM DD, YYYY"))}}],rowKey:"key",pagination:{showQuickJumper:!0,pageSize:5},search:{filterType:"light"},dateFormatter:"string",height:400})})})},Ye=l(7945),je=l(8212),Br=l(34792),xe=l(48086),ur=l(37476),we=l(5966),Ze=l(90672),cr=l(64317),pr=function(a){var y,v=a.state,h=a.setState,o=a.actionRef,M=a.selectedReport,b=a.assignedOfficerTableRef,d=a.commentsTableRef,D=W().get("user"),Q=M.mode,j=M.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(ur.Y,{title:"Reported Department",centered:!0,visible:v,width:400,modalProps:{onCancel:function(){return h(!1)}},onFinish:function(){var z=(0,x.Z)(m().mark(function N(k){var U,H,X,q,L,G;return m().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,or((0,T.Z)({_id:j._id},k));case 3:U=P.sent,U.success?(h(!1),xe.default.success(U.message),o==null||(H=o.current)===null||H===void 0||H.reload(),b==null||(X=b.current)===null||X===void 0||(q=X.reload)===null||q===void 0||q.call(X),d==null||(L=d.current)===null||L===void 0||(G=L.reload)===null||G===void 0||G.call(L)):xe.default.error(U==null?void 0:U.message),P.next=10;break;case 7:P.prev=7,P.t0=P.catch(0),xe.default.error("Failed");case 10:case"end":return P.stop()}},N,null,[[0,7]])}));return function(N){return z.apply(this,arguments)}}(),children:[(0,e.jsx)(we.Z,{name:"establishment",label:"Name of Office",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:j==null?void 0:j.establishment}),(0,e.jsx)(we.Z,{name:"name",label:"Name of Visitor",placeholder:"",rules:[{required:!0}],disabled:!0,initialValue:j==null?void 0:j.fullname}),Q==="reports"&&(0,e.jsx)(Ze.Z,{name:"reports",label:"Reports",placeholder:"",disabled:!0,initialValue:j==null||(y=j.reports)===null||y===void 0?void 0:y.join(". ")}),Q==="comments"&&(0,e.jsx)(Ze.Z,{name:"rateComment",label:"Customer Concern",placeholder:"",disabled:!0,initialValue:j==null?void 0:j.rateComment}),(0,e.jsx)(Ze.Z,{name:"reply",label:"Response",placeholder:"",disabled:(D==null?void 0:D.mode)==="admin",initialValue:j==null?void 0:j.reply}),D.mode==="admin"&&(0,e.jsx)(cr.Z,{request:(0,x.Z)(m().mark(function z(){return m().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",[{label:"Done",value:!0},{label:"Pending",value:!1}]);case 1:case"end":return k.stop()}},z)})),initialValue:j==null?void 0:j.remarks,name:"remarks",label:"Remarks"})]})})},mr=l(952),I=l(82361),fr=function(a){var y=a.state,v=a.setState,h=a.comment;return console.log(h.rate_one),(0,e.jsx)(De.Z,{title:(0,e.jsxs)(e.Fragment,{children:[h.establishment," | ",(0,e.jsx)("strong",{children:h.fullname})]}),centered:!0,visible:y,onCancel:function(){return v(!1)},footer:!1,width:1e3,children:(0,e.jsx)(mr.ZP,{submitter:{render:function(M,b){return(0,e.jsx)(e.Fragment,{})}},initialValues:{star1:h.rate_one||0,star2:h.rate_two||0,star3:h.rate_three||0,star4:h.rate_four||0,star5:h.rate_five||0,star6:h.rate_six||0,star7:h.rate_seven||0,star8:h.rate_eight||0,star9:h.rate_nine||0,star10:h.rate_ten||0},children:(0,e.jsxs)(J.Z,{gutter:24,children:[(0,e.jsxs)(g.Z,{span:5,children:[(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star1",label:"Courtesy"}),(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star2",label:"Accuracy",disabled:!0})]}),(0,e.jsxs)(g.Z,{span:5,children:[(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star3",label:"Professionalism",disabled:!0}),(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star4",label:"Cleanliness",disabled:!0})]}),(0,e.jsxs)(g.Z,{span:5,children:[(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star5",label:"Health Protocol",disabled:!0}),(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star6",label:"Timeliness",disabled:!0})]}),(0,e.jsxs)(g.Z,{span:5,children:[(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star7",label:"Service Efficiency",disabled:!0}),(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star8",label:"Fairness",disabled:!0})]}),(0,e.jsxs)(g.Z,{span:4,children:[(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star9",label:"Overall Services",disabled:!0}),(0,e.jsx)(I.Z,{rules:[{required:!0}],name:"star10",label:"Responsiveness",disabled:!0})]})]})})})},Fe=l(67265),vr=l(30020),Wr=l(402),hr=l(97272),gr=hr.Z.Title,le=function(){return(0,e.jsxs)("div",{style:{alignSelf:"center",marginTop:20,marginBottom:20},children:[(0,e.jsx)("img",{src:"../assets/images/no_data.svg",style:{height:50}}),(0,e.jsx)(gr,{level:5,style:{opacity:.5,marginTop:10},children:"No Data"})]})},yr=l(73727),jr=Ce.Z.RangePicker,Ur=C.Z.Option,xr=function(){var a=W().get("user"),y=(0,R.useRef)(),v=(0,R.useRef)(),h=(0,R.useRef)(),o=K.m8.location,M=(0,R.useState)({}),b=(0,Z.Z)(M,2),d=b[0],D=b[1],Q=(0,R.useState)({}),j=(0,Z.Z)(Q,2),z=j[0],N=j[1],k=(0,R.useState)({}),U=(0,Z.Z)(k,2),H=U[0],X=U[1],q=(0,R.useState)([]),L=(0,Z.Z)(q,2),G=L[0],Ee=L[1],P=(0,R.useState)(!1),$e=(0,Z.Z)(P,2),Ae=$e[0],Ie=$e[1],Zr=(0,R.useState)(!1),ze=(0,Z.Z)(Zr,2),Ne=ze[0],ie=ze[1],kr=(0,R.useState)(!1),Be=(0,Z.Z)(kr,2),We=Be[0],ke=Be[1],Sr=(0,R.useState)("month"),Ue=(0,Z.Z)(Sr,2),Se=Ue[0],Rr=Ue[1],Tr=(0,R.useState)(""),Ke=(0,Z.Z)(Tr,2),Cr=Ke[0],br=Ke[1],Dr=(0,R.useState)(null),He=(0,Z.Z)(Dr,2),O=He[0],Mr=He[1],Pr=(0,R.useState)(0),Ve=(0,Z.Z)(Pr,2),Le=Ve[0],Or=Ve[1],Yr=(0,R.useState)(!1),Ge=(0,Z.Z)(Yr,2),wr=Ge[0],Je=Ge[1],Fr=(0,R.useState)(!1),Qe=(0,Z.Z)(Fr,2),Er=Qe[0],Xe=Qe[1],Re=function(){var u=(0,x.Z)(m().mark(function t(r){var i,n,p,c;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=r.overallFilter,n=r.startDate,p=r.endDate,Xe(!0),s.next=4,lr({overallFilter:i?JSON.stringify(i):null,establishment:(a==null?void 0:a.mode)==="assigned-officer"?a==null?void 0:a.name:void 0,startDate:n,endDate:p});case 4:c=s.sent,c.success&&(D(c.rate),Xe(!1));case 6:case"end":return s.stop()}},t)}));return function(r){return u.apply(this,arguments)}}(),qe=function(){var u=(0,x.Z)(m().mark(function t(r){var i,n,p,c,S;return m().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return i=r.overallFilter,Je(!0),f.next=4,sr({overallFilter:i?JSON.stringify(i):null,establishment:(a==null?void 0:a.mode)==="assigned-officer"?a==null?void 0:a.name:void 0});case 4:n=f.sent,n.success&&(c=0,S=n==null||(p=n.raterTypes)===null||p===void 0?void 0:p.map(function(oe){return c+=oe.total,{type:"".concat(oe.total," - ").concat(oe._id),value:oe.total}}),Or(c),Ee(S),Je(!1));case 6:case"end":return f.stop()}},t)}));return function(r){return u.apply(this,arguments)}}(),$r=function(){var u=(0,x.Z)(m().mark(function t(){var r,i;return m().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,vr.TB)();case 2:r=p.sent,r.success?(r==null||(i=r.offices)===null||i===void 0||i.forEach(function(c){H[c.name]={text:c.name}}),X(H)):message.error("Failed to fetch offices");case 4:case"end":return p.stop()}},t)}));return function(){return u.apply(this,arguments)}}();(0,R.useState)(function(){Re({})},[]),(0,R.useState)(function(){qe({})},[]),(0,R.useState)(function(){$r()},[]);var Te={data:G,angleField:"value",colorField:"type",radius:.9,label:{type:"inner",offset:"-30%",content:function(t){var r=t.percent;return"".concat((r*100).toFixed(0),"%")},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},w=function(t,r){var i,n,p=0;return i=parseInt(r)*5,n=parseFloat(t/i).toFixed(2),p=(n*100).toFixed(0),p},Ar=function(t,r){Re({startDate:t?Y()(t[0]).format("YYYY-MM-DD"):Y()().subtract(14,"days").format("YYYY-MM-DD"),endDate:t?Y()(t[1]).format("YYYY-MM-DD"):Y()(new Date,"DD MMMM, YYYY").format("YYYY-MM-DD")})},F={backgroundColor:"#F3A931",paddingLeft:10,paddingRight:10,alignItems:"center",paddingTop:10,paddingBottom:10},E={color:"white",fontSize:25,lineHeight:0},$={color:"white",fontSize:15},_e=function(){return(0,e.jsxs)(J.Z,{gutter:[10,10],children:[(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Courtesy"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateOne,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Accuracy"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateTwo,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Professionalism"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateThree,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Cleanliness"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateFour,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Protocol"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateFive,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Timeliness"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateSix,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Service Efficiency"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateSeven,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Fairness"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateEight,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Timeliness"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateSix,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Overall Services"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateNine,d.Cnt),"%"]})]})}),(0,e.jsx)(g.Z,{span:8,children:(0,e.jsxs)("div",{style:F,children:[(0,e.jsx)("p",{style:$,children:"Responsiveness"}),(0,e.jsxs)("p",{style:E,children:[w(d.rateTen,d.Cnt),"%"]})]})})]})};function er(){return(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(ue.ZP.Group,{options:[{label:"Month",value:"month"},{label:"Quarter",value:"quarter"},{label:"Year",value:"year"}],defaultValue:Se,onChange:function(t){return Rr(t.target.value)},optionType:"button",buttonStyle:"solid"}),(0,e.jsx)(Ce.Z,{picker:Se,defaultValue:Cr,onChange:function(t){br(t),Ir(t,Se)}}),o.pathname.includes("/admin/print/dashboard")?(0,e.jsx)(A.Z,{type:"danger",icon:(0,e.jsx)(Ye.Z,{}),onClick:function(){return window.print()},children:"Print Now"}):(0,e.jsx)(yr.rU,{to:"/admin/print/dashboard",target:"_blank",children:(0,e.jsx)(A.Z,{icon:(0,e.jsx)(Ye.Z,{}),type:"primary",children:"Preview Print"})})]})}var Ir=function(t,r){var i,n,p,c,S,s,f={};r==="month"&&(f={type:r,year:t.year(),month:t.format("MM")}),r==="quarter"&&(f={type:r,year:t.year(),startMonth:t.format("MM"),endMonth:t.add(2,"M").format("MM")}),r==="year"&&(f={type:r,year:t.year()}),qe({overallFilter:f}),Re({overallFilter:f}),Mr(f),y==null||(i=y.current)===null||i===void 0||(n=i.reload)===null||n===void 0||n.call(i),v==null||(p=v.current)===null||p===void 0||(c=p.reload)===null||c===void 0||c.call(p),h==null||(S=h.current)===null||S===void 0||(s=S.reload)===null||s===void 0||s.call(S)};return o.pathname.includes("/admin/print/dashboard")?(Te.label={type:"outer",content:"{name} {percentage}"},(0,e.jsxs)(Fe.ZP,{title:a.mode==="admin"?"Dashboard":a.name,extra:(0,e.jsx)(er,{}),children:[(0,e.jsx)(B.Z,{title:"".concat(Le," Respondents"),children:G.length>0?(0,e.jsx)(be.Z,(0,T.Z)({},Te)):(0,e.jsx)(le,{})}),(0,e.jsx)("div",{style:{height:20}}),(0,e.jsx)(B.Z,{title:"Performance",children:d!=null&&d.Cnt?(0,e.jsx)(_e,{}):(0,e.jsx)(le,{})}),(0,e.jsx)("div",{style:{height:10}}),a.mode==="admin"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B.Z,{children:(0,e.jsx)(V.ZP,{actionRef:y,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c,S;return m().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log(r),f.prev=1,f.next=4,Me((0,T.Z)({overallFilter:O?JSON.stringify(O):null,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null,establishment:((c=n.establishment)===null||c===void 0?void 0:c[0])||null},r));case 4:return S=f.sent,f.abrupt("return",{data:S.reports,total:S.total});case 8:f.prev=8,f.t0=f.catch(1),console.log(f.t0);case 11:case"end":return f.stop()}},t,null,[[1,8]])}));return function(t,r,i){return u.apply(this,arguments)}}(),scroll:{x:700},columns:[{title:"Name",width:90,dataIndex:"establishment",filters:!0,filterMultiple:!1,valueEnum:H,search:!1},{title:"Issues",render:function(t,r){var i;return(0,e.jsx)("strong",{children:r==null||(i=r.reports)===null||i===void 0?void 0:i.join(". ")})},search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(t,r){return"".concat(r.remarks?"Done":"Pending")},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",valueType:"date",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))}}],rowKey:"key",pagination:{pageSize:6},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Reported Offices"})}),(0,e.jsx)("div",{style:{height:10}}),(0,e.jsx)(B.Z,{children:(0,e.jsx)(V.ZP,{actionRef:v,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Pe((0,T.Z)({overallFilter:O?JSON.stringify(O):null,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null},r));case 3:return c=s.sent,s.abrupt("return",{data:c.comments,total:c==null?void 0:c.total});case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}},t,null,[[0,7]])}));return function(t,r,i){return u.apply(this,arguments)}}(),columns:[{title:"Comments and Suggestions",width:100,dataIndex:"rateComment",search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(t,r){return r!=null&&r.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))},valueType:"date"}],rowKey:"key",pagination:{pageSize:10},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Comments and Suggestions"})})]}),a.mode==="assigned-officer"&&(0,e.jsx)(B.Z,{children:(0,e.jsx)(V.ZP,{actionRef:h,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Oe((0,T.Z)({overallFilter:O?JSON.stringify(O):null,officeName:a.name,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null},r));case 3:return c=s.sent,s.abrupt("return",{data:c.comments,total:c==null?void 0:c.total});case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}},t,null,[[0,7]])}));return function(t,r,i){return u.apply(this,arguments)}}(),columns:[{title:"Name",dataIndex:"fullname",search:!1},{title:"Comments and Suggestions",dataIndex:"rateComment",search:!1},{title:"Reports",render:function(t,r){var i;return(0,e.jsx)("strong",{children:r==null||(i=r.reports)===null||i===void 0?void 0:i.join(". ")})},search:!1},{title:"Remarks",dataIndex:"remarks",render:function(t,r){return r!=null&&r.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))}}],search:{filterType:"light"},headerTitle:"Overall Rating/Reports/Comments and Suggestions"})})]})):(0,e.jsxs)(Fe.ZP,{title:a.mode==="admin"?"Dashboard":a.name,extra:(0,e.jsx)(er,{}),children:[Ae&&(0,e.jsx)(dr,{state:Ae,setState:Ie,onSeeRatings:function(t){ke(!0),N(t)},user:a}),Ne&&(0,e.jsx)(pr,{state:Ne,setState:ie,selectedReport:z,actionRef:y,commentsTableRef:v,assignedOfficerTableRef:h}),We&&(0,e.jsx)(fr,{state:We,setState:ke,comment:z}),(0,e.jsxs)(J.Z,{gutter:10,children:[(0,e.jsx)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,e.jsx)(B.Z,{loading:wr,title:"Respondents (Total ".concat(Le,")"),extra:(0,e.jsx)(A.Z,{type:"primary",onClick:function(){return Ie(!0)},children:"See respondents"}),children:G.length>0?(0,e.jsx)(be.Z,(0,T.Z)({},Te)):(0,e.jsx)(le,{})})}),(0,e.jsx)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:(0,e.jsx)(B.Z,{loading:Er,style:{height:"100%"},title:"Performance",extra:(0,e.jsx)(jr,{onChange:Ar}),children:d!=null&&d.Cnt?(0,e.jsx)(_e,{}):(0,e.jsx)(le,{})})})]}),(0,e.jsx)("div",{style:{height:10}}),a.mode==="admin"&&(0,e.jsxs)(J.Z,{gutter:10,children:[(0,e.jsxs)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:[(0,e.jsx)(V.ZP,{actionRef:y,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c,S;return m().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log(r),f.prev=1,f.next=4,Me((0,T.Z)({overallFilter:O?JSON.stringify(O):null,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null,establishment:((c=n.establishment)===null||c===void 0?void 0:c[0])||null},r));case 4:return S=f.sent,f.abrupt("return",{data:S.reports,total:S.total});case 8:f.prev=8,f.t0=f.catch(1),console.log(f.t0);case 11:case"end":return f.stop()}},t,null,[[1,8]])}));return function(t,r,i){return u.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Name",width:90,dataIndex:"establishment",filters:!0,filterMultiple:!1,valueEnum:H,search:!1},{title:"Issues",render:function(t,r){var i;return(0,e.jsx)("strong",{children:r==null||(i=r.reports)===null||i===void 0?void 0:i.join(". ")})},search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(t,r){return"".concat(r.remarks?"Done":"Pending")},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",valueType:"date",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,fixed:"right",width:120,render:function(t,r){return(0,e.jsx)(A.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){N({mode:"reports",data:r}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Reported Offices"}),(0,e.jsx)("div",{style:{height:10}})]}),(0,e.jsxs)(g.Z,{xs:24,sm:24,md:24,lg:12,xl:12,children:[(0,e.jsx)(V.ZP,{actionRef:v,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Pe((0,T.Z)({overallFilter:O?JSON.stringify(O):null,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null},r));case 3:return c=s.sent,s.abrupt("return",{data:c.comments,total:c==null?void 0:c.total});case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}},t,null,[[0,7]])}));return function(t,r,i){return u.apply(this,arguments)}}(),scroll:{x:1e3},columns:[{title:"Comments and Suggestions",width:100,dataIndex:"rateComment",search:!1},{title:"Remarks",width:90,dataIndex:"remarks",render:function(t,r){return r!=null&&r.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",width:90,dataIndex:"createdAt",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))},valueType:"date"},{title:"Actions",fixed:"right",search:!1,width:40,render:function(t,r){return(0,e.jsx)(A.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){N({mode:"comments",data:r}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Comments and Suggestions"})," "]})]}),a.mode==="assigned-officer"&&(0,e.jsx)(V.ZP,{actionRef:h,request:function(){var u=(0,x.Z)(m().mark(function t(r,i,n){var p,c;return m().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Oe((0,T.Z)({overallFilter:O?JSON.stringify(O):null,officeName:a.name,remarks:n!=null&&n.remarks?(n==null||(p=n.remarks)===null||p===void 0?void 0:p[0])==="1":null},r));case 3:return c=s.sent,s.abrupt("return",{data:c.comments,total:c==null?void 0:c.total});case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}},t,null,[[0,7]])}));return function(t,r,i){return u.apply(this,arguments)}}(),columns:[{title:"Name",dataIndex:"fullname",search:!1},{title:"Ratings",dataIndex:"ratings",search:!1,render:function(t,r){return(0,e.jsx)(A.Z,{onClick:function(){ke(!0),N(r)},children:"See Ratings"})}},{title:"Comments and Suggestions",dataIndex:"rateComment",search:!1},{title:"Reports",render:function(t,r){var i;return(0,e.jsx)("strong",{children:r==null||(i=r.reports)===null||i===void 0?void 0:i.join(". ")})},search:!1},{title:"Remarks",dataIndex:"remarks",render:function(t,r){return r!=null&&r.remarks?"Done":"Pending"},filters:!0,filterMultiple:!1,valueEnum:{1:{text:"Done"},0:{text:"Pending"}},search:!1},{title:"Date",dataIndex:"createdAt",valueType:"date",render:function(t,r){return"".concat(Y()(r==null?void 0:r.createdAt).format("MMMM DD, YYYY"))}},{title:"Actions",search:!1,render:function(t,r){return(0,e.jsx)(A.Z,{icon:(0,e.jsx)(je.Z,{}),type:"primary",onClick:function(){N({mode:"assigned-officer",data:r}),ie(!0)},children:"Update"},"button")}}],rowKey:"key",pagination:{pageSize:5},search:{filterType:"light"},dateFormatter:"string",headerTitle:"Overall Rating/Reports/Comments and Suggestions"})]})}},30020:function(rr,_,l){"use strict";l.d(_,{TB:function(){return A},KW:function(){return ue},si:function(){return J}});var ee=l(3182),B=l(94043),T=l.n(B),re=l(21010),de=l(58971),te=l.n(de);function A(g){return ae.apply(this,arguments)}function ae(){return ae=(0,ee.Z)(T().mark(function g(x){var Z;return T().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return Z=te().get("token"),C.abrupt("return",(0,re.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/get-offices"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},query:x,skipErrorHandler:!0}));case 2:case"end":return C.stop()}},g)})),ae.apply(this,arguments)}function ue(g){return ne.apply(this,arguments)}function ne(){return ne=(0,ee.Z)(T().mark(function g(x){var Z;return T().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return Z=te().get("token"),C.abrupt("return",(0,re.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/create-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},data:x,skipErrorHandler:!0}));case 2:case"end":return C.stop()}},g)})),ne.apply(this,arguments)}function J(g){return se.apply(this,arguments)}function se(){return se=(0,ee.Z)(T().mark(function g(x){var Z;return T().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return Z=te().get("token"),C.abrupt("return",(0,re.WY)("".concat("https://capstone-feedback-api.herokuapp.com","/edit-office"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z)},data:x,skipErrorHandler:!0}));case 2:case"end":return C.stop()}},g)})),se.apply(this,arguments)}}}]);
